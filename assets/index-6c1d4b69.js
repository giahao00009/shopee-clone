import{r as N,A as w,u as b,a as v,o as y,b as E,_ as A,j as e,c as p,I as i,B as S,L as j,s as k,d as C,i as L}from"./index-1c52aa98.js";const M=k.pick(["email","password"]);function B(){var c,l,d;const{setAuthenticatied:g}=N.useContext(w),u=b(),{register:t,handleSubmit:h,setError:f,formState:{errors:r}}=v({resolver:y(M)}),o=E({mutationFn:s=>C.registerAccount(s),onSuccess:()=>{g(!0),u("/")},onError:s=>{var a;if(L(s)){const n=(a=s.response)==null?void 0:a.data.data;n&&Object.keys(n).forEach(m=>{f(m,{message:n[m],type:"Server"})})}}}),x=h(s=>{const a=A.omit(s,["confirm_password"]);o.mutate(a)},s=>{console.log(s)});return e("div",{className:"bg-orange",children:e("div",{className:"container",children:e("div",{className:"grid grid-cols-1 py-10 lg:grid-cols-5 lg:py-32 lg:pr-10",children:e("div",{className:"lg:col-span-2 lg:col-start-4",children:p("form",{onSubmit:x,className:"rounded bg-white p-10 shadow-sm",noValidate:!0,children:[e("div",{className:"text-2xl",children:"Đăng ký"}),e(i,{name:"email",register:t,type:"email",className:"mt-8",errorMessage:(c=r.email)==null?void 0:c.message,placeholder:"Email"}),e(i,{name:"password",register:t,type:"password",className:"mt-2",errorMessage:(l=r.password)==null?void 0:l.message,placeholder:"Password",autoComplete:"on"}),e(i,{name:"confirm_password",register:t,type:"password",className:"mt-2",errorMessage:(d=r.confirm_password)==null?void 0:d.message,placeholder:"Confirm password",autoComplete:"on"}),e(S,{isLoading:o.isLoading,disabled:o.isLoading,type:"submit",className:"w-full bg-red-500 px-2 py-4 text-center uppercase text-white hover:bg-red-600",children:"Đăng ký"}),e("div",{className:"mt-8 text-center",children:p("div",{className:"flex justify-center",children:[e("span",{className:"text-slate-400",children:"Bạn đã có tài khoản? "}),e(j,{to:"/login",className:"text-red-400",children:"Đăng nhập"})]})})]})})})})})}export{B as default};
