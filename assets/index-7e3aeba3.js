import{r as v,A as b,u as w,a as y,o as E,b as A,i as L,j as e,c as m,I as g,B as S,L as j,s as k,d as M}from"./index-e88f8263.js";const B=k.pick(["email","password"]);function F(){var i,c;const{setAuthenticatied:p,setProfile:u}=v.useContext(b),h=w(),{register:o,handleSubmit:x,formState:{errors:n},setError:N}=y({resolver:E(B)}),t=A({mutationFn:s=>M.loginAccount(s)}),f=x(s=>{t.mutate(s,{onSuccess:a=>{p(!0),u(a.data.data.user),h("/")},onError:a=>{var l;if(L(a)){const r=(l=a.response)==null?void 0:l.data.data;r&&Object.keys(r).forEach(d=>{N(d,{message:r[d],type:"Server"})})}}})},s=>{console.log(s)});return e("div",{className:"bg-orange",children:e("div",{className:"container",children:e("div",{className:"grid grid-cols-1 py-10 lg:grid-cols-5 lg:py-32 lg:pr-10",children:e("div",{className:"lg:col-span-2 lg:col-start-4",children:m("form",{className:"rounded bg-white p-10 shadow-sm",onSubmit:f,children:[e("div",{className:"text-2xl",children:"Đăng nhập"}),e(g,{name:"email",register:o,type:"email",className:"mt-8",errorMessage:(i=n.email)==null?void 0:i.message,placeholder:"Email"}),e(g,{name:"password",register:o,type:"password",className:"mt-2",errorMessage:(c=n.password)==null?void 0:c.message,placeholder:"Password",autoComplete:"on"}),e(S,{isLoading:t.isLoading,disabled:t.isLoading,type:"submit",className:"w-full bg-red-500 px-2 py-4 text-center uppercase text-white hover:bg-red-600",children:"Đăng nhập"}),e("div",{className:"mt-8 text-center",children:m("div",{className:"flex justify-center",children:[e("span",{className:"text-slate-400",children:"Bạn chưa có tài khoản? "}),e(j,{to:"/register",className:"text-red-400",children:"Đăng ký"})]})})]})})})})})}export{F as default};
